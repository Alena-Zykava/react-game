(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(8),i=n.n(c),s=n(2),r=n(3),d=n(6),u=(n(13),n(14),n(0)),o=function(e){var t=e.onStartGame;return Object(u.jsx)("button",{className:"btn btn-primary btn-start",onClick:function(){t()},children:"New game"})},l=function(e){var t=e.onStartGame;return Object(u.jsxs)("div",{className:"title d-flex justify-content-around",children:[Object(u.jsx)("h1",{children:"Memory game"}),Object(u.jsx)(o,{onStartGame:function(){t()}})]})},m=(n(16),n(17),function(e){var t=e.name,n=e.image,a=e.id,c=e.onRemoteBack,i="card";return e.flipped||(i+=" back-image"),e.guessed&&(i+=" guessed"),Object(u.jsx)("div",{className:i,"data-name":t,style:{background:"url(".concat(n,")")},onClick:function(){return c(a)}})});var f=function(e){var t=e.onRemoteBack,n=e.data.map((function(e){return Object(u.jsx)(m,{id:e.id,name:e.name,image:e.image,flipped:e.flipped,guessed:e.guessed,onRemoteBack:function(){return t(e.id)}},e.id)}));return Object(u.jsx)("div",{className:"cards d-flex justify-content-center align-items-center",children:n})},j=(n(18),n.p+"static/media/rs_school_js.ad178c0d.svg"),g=function(){return Object(u.jsxs)("div",{className:"footer d-flex justify-content-between",children:[Object(u.jsx)("a",{href:"https://github.com/Alena-Zykava",children:" Alena Zykava "}),Object(u.jsx)("span",{children:"2021"}),Object(u.jsx)("a",{href:"https://rs.school/js/",children:Object(u.jsx)("img",{src:j,alt:"RSS"})})]})},p=(n(19),function(e){e.onStartGame;return Object(u.jsx)("div",{className:"greeting d-flex justify-content-center align-items-center flex-column",children:Object(u.jsx)("h2",{children:"Hello!"})})}),b=(n(20),function(){return Object(u.jsx)("div",{className:"win d-flex justify-content-center align-items-center",children:Object(u.jsx)("h2",{children:"You win!!!"})})}),O=n.p+"static/media/crow.4eaad05a.png",h=n.p+"static/media/mortis.5f6c2d9b.png",x=n.p+"static/media/karl.c837bbcb.png",v=n.p+"static/media/mr-p.06a1b2f1.png",S=n.p+"static/media/piper.521eb7e0.png",k=n.p+"static/media/shelly.314d5794.png",y=[{name:"crow",image:O,flipped:!1,guessed:!1,id:0},{name:"mortis",image:h,flipped:!1,guessed:!1,id:1},{name:"karl",image:x,flipped:!1,guessed:!1,id:2},{name:"mrP",image:v,flipped:!1,guessed:!1,id:3},{name:"piper",image:S,flipped:!1,guessed:!1,id:4},{name:"shelly",image:k,flipped:!1,guessed:!1,id:5},{name:"crow",image:O,flipped:!1,guessed:!1,id:6},{name:"mortis",image:h,flipped:!1,guessed:!1,id:7},{name:"karl",image:x,flipped:!1,guessed:!1,id:8},{name:"mrP",image:v,flipped:!1,guessed:!1,id:9},{name:"piper",image:S,flipped:!1,guessed:!1,id:10},{name:"shelly",image:k,flipped:!1,guessed:!1,id:11}],w=(n(21),function(){var e=y.sort((function(){return Math.random()-.5})),t=Object(a.useState)(function(){var t=JSON.parse(localStorage.getItem("saveData"));return t||e}()),n=Object(d.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)([]),m=Object(d.a)(o,2),j=m[0],O=m[1],h=Object(a.useState)(function(){var e=localStorage.getItem("gameState");return e||"greeting"}()),x=Object(d.a)(h,2),v=x[0],S=x[1];Object(a.useEffect)((function(){2===j.length&&I(),12===k.length&&(S("win"),w(),i(e))}),[j]),Object(a.useEffect)((function(){var e=JSON.stringify(c);localStorage.setItem("saveData",e),localStorage.setItem("gameState",v)}),[c,v]);var k=c.filter((function(e){return e.flipped})),w=function(){switch(v){case"greeting":return Object(u.jsx)(p,{});case"game":return Object(u.jsx)(f,{onRemoteBack:N,data:c});case"win":return Object(u.jsx)(b,{});default:return Object(u.jsx)(p,{})}},N=function(e){var t=c.findIndex((function(t){return t.id===e})),n=c[t];if(j.length<2&&!n.guessed){var a=Object(r.a)(Object(r.a)({},n),{},{flipped:!0});if(i([].concat(Object(s.a)(c.slice(0,t)),[a],Object(s.a)(c.slice(t+1)))),1===j.length&&j[0].id===e)return;O([].concat(Object(s.a)(j),[c[t]]))}},I=function(){j[0].name!==j[1].name?setTimeout(B,1e3):G()},B=function(){var e=c.findIndex((function(e){return e.id===j[0].id})),t=c[e],n=Object(r.a)(Object(r.a)({},t),{},{flipped:!1}),a=c.findIndex((function(e){return e.id===j[1].id})),d=c[a],u=Object(r.a)(Object(r.a)({},d),{},{flipped:!1}),o=[].concat(Object(s.a)(c.slice(0,e)),[n],Object(s.a)(c.slice(e+1))),l=[].concat(Object(s.a)(o.slice(0,a)),[u],Object(s.a)(o.slice(a+1)));i(l),O([])},G=function(){var e=c.findIndex((function(e){return e.id===j[0].id})),t=c[e],n=Object(r.a)(Object(r.a)({},t),{},{guessed:!0}),a=c.findIndex((function(e){return e.id===j[1].id})),d=c[a],u=Object(r.a)(Object(r.a)({},d),{},{guessed:!0}),o=[].concat(Object(s.a)(c.slice(0,e)),[n],Object(s.a)(c.slice(e+1))),l=[].concat(Object(s.a)(o.slice(0,a)),[u],Object(s.a)(o.slice(a+1)));i(l),O([])};return Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)(l,{onStartGame:function(){S("game"),w(),i(e),O([])}}),Object(u.jsx)("div",{className:"wrapper",children:w()}),Object(u.jsx)(g,{})]})});i.a.render(Object(u.jsx)(w,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.b63cbf73.chunk.js.map